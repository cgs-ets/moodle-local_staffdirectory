define(["jquery","core/log","core/ajax"],function(o,r,t){"use strict";function e(t){this.rootel=t}return e.prototype.main=function(){var o=this,r=new List("local_staffdirectory-root",{valueNames:["attr_staffcode","attr_displayname","attr_department","attr_jobposition"],listClass:"directory-list",searchClass:"directory-search"});r.on("searchComplete",function(t){o.rootel.removeClass("noitems"),r.visibleItems.length||o.rootel.addClass("noitems")})},{init:function(){r.debug("local_staffdirectory/directory: initializing");var t=o("#local_staffdirectory-root");t.length?new e(t).main():r.error("local_staffdirectory/directory: '#local_staffdirectory-root' not found!")}}});